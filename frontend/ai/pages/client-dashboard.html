<!DOCTYPE html>
<html lang="zh-CN" data-i18n-title="ai.dashboard.client.title">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ховцИ╖члпцОзхИ╢хП░</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="../../shared/css/theme-system.css">
</head>
<body class="module-background">
    <!-- Navigation -->
    <nav class="navbar">
        <div class="max-w-4xl mx-auto flex items-center justify-between">
            <div class="navbar-brand">
                <span data-i18n="ai.dashboard.client.title">ховцИ╖члпцОзхИ╢щЭвцЭ┐</span>
            </div>
            
            <div class="navbar-nav">
                <span id="userInfo" class="text-sm text-gray-600"></span>
                <button class="theme-toggle" title="хИЗцНвф╕╗щвШ">
                    <span>ЁЯМЩ</span>
                </button>
                <button class="language-toggle" title="хИЗцНвшпншиА">EN</button>
                <button onclick="logout()" class="btn btn-secondary text-sm">
                    <span data-i18n="common.logout">щААхЗ║чЩ╗х╜Х</span>
                </button>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="max-w-4xl mx-auto px-6 py-8">
        <!-- Welcome Section -->
        <div class="text-center mb-12">
            <h2 class="text-3xl font-bold text-gray-900 mb-4">
                <span data-i18n="ai.dashboard.client.welcome">цмвш┐ОхЫЮцЭея╝Б</span>
            </h2>
            <p class="text-gray-600" data-i18n="ai.dashboard.client.selectMode">щАЙцЛйцВицГ│шжБш┐ЫшбМчЪДшонч╗Гцибх╝П</p>
        </div>

        <!-- Training Options -->
        <div class="grid md:grid-cols-2 gap-8 mb-8">
            <!-- Local Training -->
            <div class="card cursor-pointer transition-all duration-300 hover:scale-105" onclick="selectTrainingMode('local')">
                <div class="text-center">
                    <div class="w-16 h-16 bg-gray-600 rounded-xl flex items-center justify-center mx-auto mb-4">
                        <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"></path>
                        </svg>
                    </div>
                    <h3 class="text-xl font-bold text-gray-900 mb-3" data-i18n="ai.dashboard.client.localTraining">цЬмхЬ░цибхЮЛшонч╗Г</h3>
                    <p class="text-gray-600 mb-6" data-i18n="ai.dashboard.client.localDesc">ф╜┐чФицЬмхЬ░цХ░цНочЛмчлЛшонч╗ГцибхЮЛя╝Мф┐ЭцКдцХ░цНощЪРчзБ</p>
                    
                    <div class="bg-gray-50 rounded-lg p-4 mb-6">
                        <div class="text-sm text-gray-700 space-y-2">
                            <div class="flex items-center justify-between">
                                <span data-i18n="ai.dashboard.client.dataSecurity">цХ░цНохоЙхЕицАзя╝Ъ</span>
                                <span class="font-medium text-gray-600" data-i18n="ai.dashboard.client.localStorage">цЬмхЬ░хнШхВи</span>
                            </div>
                            <div class="flex items-center justify-between">
                                <span data-i18n="ai.dashboard.client.trainingSpeed">шонч╗ГщАЯх║жя╝Ъ</span>
                                <span class="font-medium text-gray-600" data-i18n="ai.dashboard.client.fast">х┐лщАЯ</span>
                            </div>
                            <div class="flex items-center justify-between">
                                <span data-i18n="ai.dashboard.client.modelEffect">цибхЮЛцХИцЮЬя╝Ъ</span>
                                <span class="font-medium text-gray-600" data-i18n="ai.dashboard.client.limitedByLocal">хПЧщЩРф║ОцЬмхЬ░цХ░цНо</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="text-gray-700 font-semibold">
                        <span data-i18n="ai.dashboard.client.startLocal">х╝АхзЛцЬмхЬ░шонч╗Г</span> тЖТ
                    </div>
                </div>
            </div>

            <!-- Federated Training -->
            <div class="card cursor-pointer transition-all duration-300 hover:scale-105" onclick="selectTrainingMode('federated')">
                <div class="text-center">
                    <div class="w-16 h-16 bg-gray-600 rounded-xl flex items-center justify-center mx-auto mb-4">
                        <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"></path>
                        </svg>
                    </div>
                    <h3 class="text-xl font-bold text-gray-900 mb-3" data-i18n="ai.dashboard.client.federatedTraining">шБФщВжхнжф╣ашонч╗Г</h3>
                    <p class="text-gray-600 mb-6" data-i18n="ai.dashboard.client.federatedDesc">хПВф╕ОхИЖх╕Гх╝ПшБФщВжхнжф╣ая╝МшО╖х╛ЧцЫ┤хе╜чЪДцибхЮЛцХИцЮЬ</p>
                    
                    <div class="bg-gray-50 rounded-lg p-4 mb-6">
                        <div class="text-sm text-gray-700 space-y-2">
                            <div class="flex items-center justify-between">
                                <span data-i18n="ai.dashboard.client.dataSecurity">цХ░цНохоЙхЕицАзя╝Ъ</span>
                                <span class="font-medium text-gray-600" data-i18n="ai.dashboard.client.privacyProtected">щЪРчзБф┐ЭцКд</span>
                            </div>
                            <div class="flex items-center justify-between">
                                <span data-i18n="ai.dashboard.client.trainingSpeed">шонч╗ГщАЯх║жя╝Ъ</span>
                                <span class="font-medium text-gray-600" data-i18n="ai.dashboard.client.moderate">щАВф╕н</span>
                            </div>
                            <div class="flex items-center justify-between">
                                <span data-i18n="ai.dashboard.client.modelEffect">цибхЮЛцХИцЮЬя╝Ъ</span>
                                <span class="font-medium text-gray-600" data-i18n="ai.dashboard.client.excellent">ф╝ШчзА</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="text-gray-700 font-semibold">
                        <span data-i18n="ai.dashboard.client.startFederated">х╝АхзЛшБФщВжшонч╗Г</span> тЖТ
                    </div>
                </div>
            </div>
        </div>

        <!-- Status Overview -->
        <div class="card mb-8">
            <h3 class="text-lg font-semibold text-gray-900 mb-6" data-i18n="ai.dashboard.client.status">шонч╗ГчК╢цАБцжВшзИ</h3>
            <div class="grid md:grid-cols-3 gap-6">
                <div class="text-center cursor-pointer hover:bg-gray-50 p-3 rounded-lg transition-colors" onclick="viewCompletedTraining()">
                    <div class="text-2xl font-bold text-gray-700">3</div>
                    <div class="text-sm text-gray-500" data-i18n="ai.dashboard.client.completedTraining">х╖▓хоМцИРшонч╗Г</div>
                    <div class="text-xs text-blue-600 mt-1">чВ╣хЗ╗цЯечЬЛшпжцГЕ</div>
                </div>
                <div class="text-center cursor-pointer hover:bg-gray-50 p-3 rounded-lg transition-colors" onclick="viewOngoingTraining()">
                    <div class="text-2xl font-bold text-gray-700">1</div>
                    <div class="text-sm text-gray-500" data-i18n="ai.dashboard.client.ongoingTraining">ш┐ЫшбМф╕ншонч╗Г</div>
                    <div class="text-xs text-blue-600 mt-1">чВ╣хЗ╗цЯечЬЛшпжцГЕ</div>
                </div>
                <div class="text-center cursor-pointer hover:bg-gray-50 p-3 rounded-lg transition-colors" onclick="viewAccuracyStats()">
                    <div class="text-2xl font-bold text-gray-700">92.5%</div>
                    <div class="text-sm text-gray-500" data-i18n="ai.dashboard.client.averageAccuracy">х╣│хЭЗхЗЖчбочОЗ</div>
                    <div class="text-xs text-blue-600 mt-1">чВ╣хЗ╗цЯечЬЛшпжцГЕ</div>
                </div>
            </div>
        </div>

        <!-- Recent Training History -->
        <div class="card">
            <div class="flex items-center justify-between mb-6">
                <h3 class="text-lg font-semibold text-gray-900" data-i18n="ai.dashboard.client.recentHistory">цЬАш┐Сшонч╗Гшо░х╜Х</h3>
                <button class="text-blue-600 hover:text-blue-800 text-sm font-medium" onclick="viewAllTrainingHistory()">
                    цЯечЬЛхЕищГи тЖТ
                </button>
            </div>
            <div class="space-y-4">
                <div class="flex items-center justify-between p-4 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors" onclick="viewTrainingDetail('img_classify_001')">
                    <div>
                        <div class="font-medium text-gray-900" data-i18n="ai.dashboard.client.imageClassification">хЫ╛хГПхИЖч▒╗цибхЮЛ</div>
                        <div class="text-sm text-gray-500">2024-01-15 14:30</div>
                    </div>
                    <div class="text-right">
                        <div class="text-sm font-medium text-gray-700">хЗЖчбочОЗ: 94.2%</div>
                        <div class="text-xs text-gray-500" data-i18n="ai.dashboard.client.localTraining">цЬмхЬ░шонч╗Г</div>
                        <div class="text-xs text-blue-600 mt-1">чВ╣хЗ╗цЯечЬЛшпжцГЕ</div>
                    </div>
                </div>
                
                <div class="flex items-center justify-between p-4 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors" onclick="viewTrainingDetail('text_classify_002')">
                    <div>
                        <div class="font-medium text-gray-900" data-i18n="ai.dashboard.client.textClassification">цЦЗцЬмхИЖч▒╗цибхЮЛ</div>
                        <div class="text-sm text-gray-500">2024-01-14 10:15</div>
                    </div>
                    <div class="text-right">
                        <div class="text-sm font-medium text-gray-700">хЗЖчбочОЗ: 91.8%</div>
                        <div class="text-xs text-gray-500" data-i18n="ai.dashboard.client.federatedTraining">шБФщВжшонч╗Г</div>
                        <div class="text-xs text-blue-600 mt-1">чВ╣хЗ╗цЯечЬЛшпжцГЕ</div>
                    </div>
                </div>
                
                <div class="flex items-center justify-between p-4 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors" onclick="viewTrainingDetail('regression_003')">
                    <div>
                        <div class="font-medium text-gray-900" data-i18n="ai.dashboard.client.regressionModel">хЫЮх╜ТщвДц╡ЛцибхЮЛ</div>
                        <div class="text-sm text-gray-500">2024-01-13 16:45</div>
                    </div>
                    <div class="text-right">
                        <div class="text-sm font-medium text-gray-700">RMSE: 0.023</div>
                        <div class="text-xs text-gray-500" data-i18n="ai.dashboard.client.localTraining">цЬмхЬ░шонч╗Г</div>
                        <div class="text-xs text-blue-600 mt-1">чВ╣хЗ╗цЯечЬЛшпжцГЕ</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ш┐ФхЫЮф╕╗щб╡цМЙщТо -->
    <button class="homepage-return-btn" onclick="goHome()" title="ш┐ФхЫЮф╕╗щб╡">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"></path>
        </svg>
    </button>

    <script src="../../shared/js/theme-manager.js"></script>
    <script src="../../shared/js/i18n-manager.js"></script>
    <script>
        function selectTrainingMode(mode) {
            if (mode === 'local') {
                window.location.href = './local-training.html';
            } else if (mode === 'federated') {
                window.location.href = './federated-training-select.html';
            }
        }

        function logout() {
            localStorage.removeItem('token');
            localStorage.removeItem('user');
            localStorage.removeItem('loginTime');
            window.location.href = './login.html';
        }

        function goHome() {
            window.location.href = '../../homepage/index.html';
        }

        // шонч╗ГчК╢цАБцжВшзИшпжч╗Жф┐бцБп
        function viewCompletedTraining() {
            alert('х╖▓хоМцИРшонч╗ГшпжцГЕ\n\nхЕ▒хоМцИР 3 ф╕кшонч╗Гф╗╗хКбя╝Ъ\nтАв хЫ╛хГПхИЖч▒╗цибхЮЛ (хЗЖчбочОЗ: 94.2%)\nтАв цЦЗцЬмхИЖч▒╗цибхЮЛ (хЗЖчбочОЗ: 91.8%)\nтАв хЫЮх╜ТщвДц╡ЛцибхЮЛ (RMSE: 0.023)\n\nх╣│хЭЗшонч╗ГцЧ╢щЧ┤: 2.5х░ПцЧ╢\nцИРхКЯчОЗ: 100%');
        }

        function viewOngoingTraining() {
            alert('ш┐ЫшбМф╕ншонч╗ГшпжцГЕ\n\nх╜УхЙНцнгхЬишонч╗Гя╝Ъ\nтАв ц╖▒х║жхнжф╣ахЫ╛хГПшпЖхИлцибхЮЛ\n\nш┐Ых║ж: 65%\nщвДшобхЙйф╜ЩцЧ╢щЧ┤: 1.2х░ПцЧ╢\nх╜УхЙНхЗЖчбочОЗ: 89.3%\n\nшонч╗ГхПВцХ░я╝Ъ\n- хнжф╣ачОЗ: 0.001\n- цЙ╣цмбхдзх░П: 32\n- х╜УхЙНш╜оцмб: 65/100');
        }

        function viewAccuracyStats() {
            alert('хЗЖчбочОЗч╗ЯшобшпжцГЕ\n\nцХ┤ф╜Уч╗Яшобя╝Ъ\nтАв х╣│хЭЗхЗЖчбочОЗ: 92.5%\nтАв цЬАщлШхЗЖчбочОЗ: 94.2% (хЫ╛хГПхИЖч▒╗)\nтАв цЬАф╜ОхЗЖчбочОЗ: 91.8% (цЦЗцЬмхИЖч▒╗)\n\nцМЙшонч╗Гч▒╗хЮЛя╝Ъ\nтАв цЬмхЬ░шонч╗Гх╣│хЭЗ: 93.1%\nтАв шБФщВжшонч╗Гх╣│хЭЗ: 91.8%\n\nш╢ЛхК┐я╝ЪчЫ╕цпФф╕КцЬИцПРхНЗ 2.3%');
        }

        // шонч╗Гшпжч╗Жф┐бцБп
        function viewTrainingDetail(trainingId) {
            const trainingDetails = {
                'img_classify_001': {
                    name: 'хЫ╛хГПхИЖч▒╗цибхЮЛ',
                    type: 'цЬмхЬ░шонч╗Г',
                    accuracy: '94.2%',
                    date: '2024-01-15 14:30',
                    duration: '2.5х░ПцЧ╢',
                    dataset: 'CIFAR-10',
                    epochs: '100',
                    loss: '0.15',
                    parameters: '1.2M'
                },
                'text_classify_002': {
                    name: 'цЦЗцЬмхИЖч▒╗цибхЮЛ', 
                    type: 'шБФщВжшонч╗Г',
                    accuracy: '91.8%',
                    date: '2024-01-14 10:15',
                    duration: '3.2х░ПцЧ╢',
                    dataset: 'IMDbшпДшо║',
                    epochs: '80',
                    loss: '0.22',
                    parameters: '850K'
                },
                'regression_003': {
                    name: 'хЫЮх╜ТщвДц╡ЛцибхЮЛ',
                    type: 'цЬмхЬ░шонч╗Г', 
                    accuracy: 'RMSE: 0.023',
                    date: '2024-01-13 16:45',
                    duration: '1.8х░ПцЧ╢',
                    dataset: 'цИ┐ф╗╖цХ░цНо',
                    epochs: '120',
                    loss: '0.031',
                    parameters: '450K'
                }
            };

            const detail = trainingDetails[trainingId];
            if (detail) {
                alert(`${detail.name} шпжч╗Жф┐бцБп\n\n` +
                    `шонч╗Гч▒╗хЮЛ: ${detail.type}\n` +
                    `хЗЖчбочОЗ/шппх╖о: ${detail.accuracy}\n` +
                    `шонч╗ГцЧ╢щЧ┤: ${detail.date}\n` +
                    `шонч╗ГцЧ╢щХ┐: ${detail.duration}\n\n` +
                    `цХ░цНощЫЖ: ${detail.dataset}\n` +
                    `шонч╗Гш╜оцмб: ${detail.epochs}\n` +
                    `цЬАч╗ИцНЯхд▒: ${detail.loss}\n` +
                    `цибхЮЛхПВцХ░: ${detail.parameters}\n\n` +
                    `чВ╣хЗ╗чбохоЪцЯечЬЛшонч╗ГцЫ▓ч║┐хЫ╛...`);
            }
        }

        function viewAllTrainingHistory() {
            alert('хЕищГишонч╗ГхОЖхП▓\n\n' +
                'ш╖│ш╜мхИ░шонч╗ГхОЖхП▓щб╡щЭвя╝МцВихПпф╗ецЯечЬЛя╝Ъ\n' +
                'тАв цЙАцЬЙхОЖхП▓шонч╗Гшо░х╜Х\n' +
                'тАв шонч╗ГцАзшГ╜ш╢ЛхК┐хЫ╛\n' +
                'тАв цибхЮЛхп╣цпФхИЖцЮР\n' +
                'тАв хп╝хЗ║шонч╗ГцКехСК\n' +
                'тАв шонч╗ГцЧех┐Чф╕Лш╜╜\n\n' +
                'хН│х░Жш╖│ш╜мхИ░шпжч╗Жщб╡щЭв...');
            
            // хоЮщЩЕщб╣чЫоф╕нхПпф╗еш╖│ш╜мхИ░шонч╗ГхОЖхП▓щб╡щЭв
            // window.location.href = './training-history.html';
        }

        // щб╡щЭвхИЭхзЛхМЦ
        document.addEventListener('DOMContentLoaded', function() {
            const user = JSON.parse(localStorage.getItem('user') || '{}');
            const userInfo = document.getElementById('userInfo');
            if (user.name) {
                userInfo.textContent = `${user.name}`;
            }
        });
    </script>
</body>
</html>